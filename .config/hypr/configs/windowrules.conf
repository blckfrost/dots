xwayland {
    force_zero_scaling = true
}

windowrule {
    name = float-mpv
    match:class = ^(mpv)$
    float = on
    opaque = on
    size = 1000 700
    center = on
}

windowrule {
    name = float-dialogs-title
    match:title = ^(Open|Open File|Select a File|Choose wallpaper|Open Folder|Save As|Library|File Upload|Authentication Required|Add Folder to Workspace|Choose Files|Confirm to replace files|File Operation Progress)(.*)$|^(.*dialog.*)$
    float = on
    center = on
    size = 800 600
}

windowrule {
    name = float-dialogs-class
    match:class = ^(org.gnome.FileRoller|[Xx]dg-desktop-portal-gtk|.*dialog.*)$
    float = on
    center = on
    size = 800 600
}


# Windows Opacity
windowrulev2 = opacity 0.8,class:^(zathura)$
windowrulev2 = opacity 0.9,class:^(Spotify)$
windowrulev2 = opacity 0.95,class:^(discord)$
windowrulev2 = opacity 0.6,class:^[Rr]ofi)$
windowrulev2 = opacity 0.6,class:^(zeditor)$
# windowrulev2 = opacity 0.9,class:^(firefox)$
# windowrulev2 = opacity 0.9,class:^(obsidian)$
# windowrulev2 = opacity 0.9 0.7,class:^([Tt]hunar)$

# Windos Floating
windowrulev2 = float,class:^(net.davidotek.pupgui2)$ #ProtonUp-Qt
windowrulev2 = float,class:^(yad)$ #Protontricks-Gtk
windowrulev2 = float,class:^(qt5ct)$
windowrulev2 = float,class:^(nwg-look)$
windowrulev2 = float,class:^(org.kde.ark)$
windowrulev2 = float,class:^(pavucontrol)$
windowrulev2 = float,class:^(blueman-manager)$
windowrulev2 = float,class:^(nm-applet)$
windowrulev2 = float,class:^(nm-connection-editor)$
windowrulev2 = float,class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = float,class:^(com.obsproject.Studio)$,title:^(Controls)$
windowrulev2 = float,class:^(imv)$
# windowrulev2 = float,class:^(discord)$
windowrulev2 = float,class:^(confirm)$
windowrulev2 = float,class:^(dialog)$
# windowrulev2 = float,class:^(splash)$
windowrulev2 = float,class:^(download)$
windowrulev2 = float,class:^(notification)$
windowrulev2 = float,class:^(error)$
windowrulev2 = float,class:^(confirmreset)$
windowrulev2 = float,title:^(Open)$
windowrulev2 = float,title:^(branchdialog)$
windowrulev2 = float,title:^(Save As)$
windowrulev2 = float,title:^(xdg-desktop-portal-gtk)$
windowrulev2 = float,title:^(Confirm to replace files)$
windowrulev2 = float,title:^(File Operation Progress)$
windowrulev2 = float,class:^(file_progress)$
windowrulev2 = float,title:^(Volume Control)$
windowrulev2 = float,class:^(wlogout)$
windowrulev2 = float,title:^(zathura)$


# For screensharing with Xwayland apps
windowrule {
  name = windowrule-34
  opacity = 0.0 override
  match:class = ^(xwaylandvideobridge)$
}
windowrule {
  name = windowrule-35
  no_anim = on
  no_initial_focus = on
  max_size = 1 1
  no_blur = on
  no_focus = on
  match:class = ^(xwaylandvideobridge)$
}

windowrule {
  name = windowrule-36
  suppress_event = maximize
  match:class = .*
}


# Assign applications to workspaces
windowrulev2 = workspace 3 silent, class:^(firefox)$
windowrulev2 = workspace 3 silent, class:^(zen)$
windowrulev2 = workspace 4 silent, class:^(discord)$
windowrulev2 = workspace 4 silent, class:^(obsidian)$
windowrulev2 = workspace 4 silent, class:^(code)$
windowrulev2 = workspace 5 silent, class:^(Spotify)$
windowrulev2 = workspace 4 silent, class:^(org.telegram.desktop)$
windowrulev2 = workspace 6 silent, class:^(lutris)$

windowrulev2 = noscreenshare, class:obsidian


windowrulev2 = center,title:^(pavucontrol)$

# Ignore opacity while fullscreen
windowrule {
  name = windowrule-45
  opacity = 1 1
  match:fullscreen = 1
}


# fix drag issues with xwayland
windowrule {
  name = windowrule-46
  no_focus = on
  match:class = ^$
  match:title = ^$
  match:xwayland = 1
  match:float = 1
  match:fullscreen = 0
  match:pin = 0
}

windowrule {
  name = windowrule-47
  no_blur = on
  match:xwayland = 1
  match:float = 1
}


# thunar
windowrule {
  name = windowrule-48
  float = on
  center = 1
  size = 800 600
  match:class = Thunar
}

windowrule {
  name = windowrule-49
  float = on
  center = on
  size = 800 600
  match:class = thunar
}

# zen browser
windowrule {
  name = windowrule-51
  size = 900 500
  center = on
  match:title = File Upload
}


# windowrule {
#   name = windowrule-52
#   opacity = 0.0 override
#   match:class = waybar
# }
