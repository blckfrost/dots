xwayland {
    force_zero_scaling = true
}

windowrule {
    name = float-mpv
    match:class = ^(mpv)$
    float = on
    opaque = on
    size = 1000 560
    center = on
}

windowrule {
    name = float-dialogs-title
    match:title = ^(Open|Open File|Select a File|Choose wallpaper|Open Folder|Save As|Library|File Upload|Authentication Required|Add Folder to Workspace|Choose Files|Confirm to replace files|File Operation Progress)(.*)$|^(.*dialog.*)$
    float = on
    center = on
    size = 800 600
}

windowrule {
    name = float-dialogs-class
    match:class = ^(org.gnome.FileRoller|[Xx]dg-desktop-portal-gtk|.*dialog.*)$
    float = on
    center = on
    size = 800 600
}


# Windows Opacity
windowrule {
  name = windowrule-1
  opacity = 0.8
  match:class = ^(zathura)$
}

windowrule {
  name = windowrule-2
  opacity = 0.9
  workspace = 5 silent
  match:class = ^(Spotify)$
}

windowrule {
  name = windowrule-3
  opacity = 0.95
  workspace = 4 silent
  match:class = ^(discord)$
}

windowrule {
  name = windowrule-4
  opacity = 0.6
  match:class = ^[Rr]ofi)$
}

windowrule {
  name = windowrule-5
  opacity = 0.6
  match:class = ^(zeditor)$
}


# Windos Floating
windowrule {
  name = windowrule-6
  float = on
  match:class = ^(net.davidotek.pupgui2)$ #ProtonUp-Qt
}

windowrule {
  name = windowrule-7
  float = on
  match:class = ^(yad)$ #Protontricks-Gtk
}

windowrule {
  name = windowrule-8
  float = on
  match:class = ^(qt5ct)$
}

windowrule {
  name = windowrule-9
  float = on
  match:class = ^(nwg-look)$
}

windowrule {
  name = windowrule-10
  float = on
  match:class = ^(org.kde.ark)$
}

windowrule {
  name = windowrule-11
  float = on
  match:class = ^(pavucontrol)$
}

windowrule {
  name = windowrule-12
  float = on
  match:class = ^(blueman-manager)$
}

windowrule {
  name = windowrule-13
  float = on
  match:class = ^(nm-applet)$
}

windowrule {
  name = windowrule-14
  float = on
  match:class = ^(nm-connection-editor)$
}

windowrule {
  name = windowrule-15
  float = on
  match:class = ^(org.kde.polkit-kde-authentication-agent-1)$
}

windowrule {
  name = windowrule-16
  float = on
  match:class = ^(com.obsproject.Studio)$
  match:title = ^(Controls)$
}

windowrule {
  name = windowrule-17
  float = on
  match:class = ^(imv)$
}

# windowrulev2 = float,class:^(discord)$
windowrule {
  name = windowrule-18
  float = on
  match:class = ^(confirm)$
}

windowrule {
  name = windowrule-19
  float = on
  match:class = ^(dialog)$
}

# windowrulev2 = float,class:^(splash)$
windowrule {
  name = windowrule-20
  float = on
  match:class = ^(download)$
}

windowrule {
  name = windowrule-21
  float = on
  match:class = ^(notification)$
}

windowrule {
  name = windowrule-22
  float = on
  match:class = ^(error)$
}

windowrule {
  name = windowrule-23
  float = on
  match:class = ^(confirmreset)$
}

windowrule {
  name = windowrule-24
  float = on
  match:title = ^(Open)$
}

windowrule {
  name = windowrule-25
  float = on
  match:title = ^(branchdialog)$
}

windowrule {
  name = windowrule-26
  float = on
  match:title = ^(Save As)$
}

windowrule {
  name = windowrule-27
  float = on
  match:title = ^(xdg-desktop-portal-gtk)$
}

windowrule {
  name = windowrule-28
  float = on
  match:title = ^(Confirm to replace files)$
}

windowrule {
  name = windowrule-29
  float = on
  match:title = ^(File Operation Progress)$
}

windowrule {
  name = windowrule-30
  float = on
  match:class = ^(file_progress)$
}

windowrule {
  name = windowrule-31
  float = on
  match:title = ^(Volume Control)$
}

windowrule {
  name = windowrule-32
  float = on
  match:class = ^(wlogout)$
}

windowrule {
  name = windowrule-33
  float = on
  match:title = ^(zathura)$
}



# For screensharing with Xwayland apps
windowrule {
  name = windowrule-34
  opacity = 0.0 override
  match:class = ^(xwaylandvideobridge)$
}
windowrule {
  name = windowrule-35
  no_anim = on
  no_initial_focus = on
  max_size = 1 1
  no_blur = on
  no_focus = on
  match:class = ^(xwaylandvideobridge)$
}

windowrule {
  name = windowrule-36
  suppress_event = maximize
  match:class = .*
}


# Assign applications to workspaces
windowrule {
  name = windowrule-34
  workspace = 3 silent
  match:class = ^(firefox)$
}

# windowrule {
#   name = windowrule-35
#   workspace = 3 silent
#   match:class = ^(zen)$
# }

windowrule {
  name = windowrule-36
  workspace = 4 silent
  match:class = ^(obsidian)$
}

windowrule {
  name = windowrule-37
  workspace = 4 silent
  match:class = ^(code)$
}

windowrule {
  name = windowrule-38
  workspace = 4 silent
  match:class = ^(org.telegram.desktop)$
}

windowrule {
  name = windowrule-39
  workspace = 6 silent
  match:class = ^(lutris)$
}


windowrule {
  name = windowrule-40
  no_screen_share = on
  match:class = obsidian
}



windowrule {
  name = windowrule-41
  center = on
  match:title = ^(pavucontrol)$
}


# Ignore opacity while fullscreen
windowrule {
  name = windowrule-45
  opacity = 1 1
  match:fullscreen = 1
}


# fix drag issues with xwayland
windowrule {
  name = windowrule-46
  no_focus = on
  match:class = ^$
  match:title = ^$
  match:xwayland = 1
  match:float = 1
  match:fullscreen = 0
  match:pin = 0
}

windowrule {
  name = windowrule-47
  no_blur = on
  match:xwayland = 1
  match:float = 1
}


# thunar
windowrule {
  name = windowrule-48
  float = on
  center = 1
  size = 800 600
  match:class = Thunar
}

windowrule {
  name = windowrule-49
  float = on
  center = on
  size = 800 600
  match:class = thunar
}

windowrule {
  name = windowrule-51
  size = 900 500
  center = on
  match:title = File Upload
}
